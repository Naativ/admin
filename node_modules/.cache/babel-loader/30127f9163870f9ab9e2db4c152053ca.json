{"remainingRequest":"/Users/narfdre/Code/hexly/admin/node_modules/babel-loader/lib/index.js!/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/narfdre/Code/hexly/admin/src/views/users/UsersWorkbench.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/narfdre/Code/hexly/admin/src/views/users/UsersWorkbench.vue","mtime":1581353753565},{"path":"/Users/narfdre/Code/hexly/admin/.babelrc","mtime":1546923832000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/narfdre/Code/hexly/admin/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/narfdre/Code/hexly/admin/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/narfdre/Code/hexly/admin/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { get, debounce } from 'lodash';\nimport { mapActions, mapState } from 'vuex';\nimport { UsersActions } from '@/users/UsersStore';\nimport { TenantsActions } from '@/tenants/TenantsStore';\nexport default {\n  props: {\n    memberId: Number\n  },\n  data: function data() {\n    return _objectSpread({\n      drawer: true,\n      mini: true,\n      right: null,\n      selected: null,\n      target: undefined\n    }, mapState({\n      tags: function tags(state) {\n        return state.tenants.tags;\n      }\n    }));\n  },\n  watch: {\n    memberId: function () {\n      var _memberId = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.selected = id;\n\n                if (!id) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.getUser({\n                  id: id\n                });\n\n              case 4:\n                this.target = _context.sent;\n                _context.next = 8;\n                break;\n\n              case 7:\n                this.target = undefined;\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function memberId(_x) {\n        return _memberId.apply(this, arguments);\n      }\n\n      return memberId;\n    }()\n  },\n  created: function created() {\n    var _this = this;\n\n    this.toggleDebounce = debounce(function (value) {\n      _this.mini = !value;\n    }, 150);\n  },\n  methods: _objectSpread({}, mapActions([TenantsActions.FETCH_MEMBER_TAGS]), mapActions({\n    removeUser: UsersActions.STOP_VIEWING,\n    getUser: UsersActions.GET_USER\n  }), {\n    close: function close(member) {\n      this.removeUser(member.id);\n      var route = get(this, '$route.params.id', -1);\n\n      if (member && route === member.id) {\n        this.$router.push('/members/');\n      }\n    },\n    view: function view(member) {\n      var id = _typeof(member) === 'object' ? member.id : member;\n      this.$router.push('/members/' + id);\n    },\n    openSearch: function openSearch() {\n      this.$router.push('/members/');\n    },\n    mouseOver: function mouseOver() {\n      this.toggleDebounce(true);\n    },\n    mouseOut: function mouseOut() {\n      this.toggleDebounce(false);\n    }\n  }),\n  computed: _objectSpread({}, mapState({\n    viewing: function viewing(state) {\n      return state.users.viewing;\n    }\n  }))\n};",{"version":3,"sources":["UsersWorkbench.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,SAAA,GAAA,EAAA,QAAA,QAAA,QAAA;AACA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AACA,SAAA,YAAA,QAAA,oBAAA;AACA,SAAA,cAAA,QAAA,wBAAA;AAEA,eAAA;AACA,SAAA;AACA,cAAA;AADA,GADA;AAIA,MAJA,kBAIA;AACA;AACA,cAAA,IADA;AAEA,YAAA,IAFA;AAGA,aAAA,IAHA;AAIA,gBAAA,IAJA;AAKA,cAAA;AALA,OAMA,SAAA;AACA,YAAA;AAAA,eAAA,MAAA,OAAA,CAAA,IAAA;AAAA;AADA,KAAA,CANA;AAUA,GAfA;AAgBA,SAAA;AACA,YADA;AAAA;AAAA;AAAA,+CACA,EADA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,QAAA,GAAA,EAAA;;AAFA,qBAGA,EAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,KAAA,OAAA,CAAA;AAAA;AAAA,iBAAA,CAJA;;AAAA;AAIA,qBAAA,MAJA;AAAA;AAAA;;AAAA;AAMA,qBAAA,MAAA,GAAA,SAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAhBA;AA0BA,SA1BA,qBA0BA;AAAA;;AACA,SAAA,cAAA,GAAA,SAAA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,GAAA,CAAA,KAAA;AACA,KAFA,EAEA,GAFA,CAAA;AAGA,GA9BA;AA+BA,6BACA,WAAA,CAAA,eAAA,iBAAA,CAAA,CADA,EAEA,WAAA;AACA,gBAAA,aAAA,YADA;AAEA,aAAA,aAAA;AAFA,GAAA,CAFA;AAMA,SANA,iBAMA,MANA,EAMA;AACA,WAAA,UAAA,CAAA,OAAA,EAAA;AACA,UAAA,QAAA,IAAA,IAAA,EAAA,kBAAA,EAAA,CAAA,CAAA,CAAA;;AACA,UAAA,UAAA,UAAA,OAAA,EAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AACA,KAZA;AAaA,QAbA,gBAaA,MAbA,EAaA;AACA,UAAA,KAAA,QAAA,MAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,cAAA,EAAA;AACA,KAhBA;AAiBA,cAjBA,wBAiBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,KAnBA;AAoBA,aApBA,uBAoBA;AACA,WAAA,cAAA,CAAA,IAAA;AACA,KAtBA;AAuBA,YAvBA,sBAuBA;AACA,WAAA,cAAA,CAAA,KAAA;AACA;AAzBA,IA/BA;AA0DA,8BACA,SAAA;AACA,aAAA;AAAA,aAAA,MAAA,KAAA,CAAA,OAAA;AAAA;AADA,GAAA,CADA;AA1DA,CAAA","sourcesContent":["<template>\n  <v-layout row align-stretch fill-height>\n    <div v-if=\"this.$vuetify.breakpoint.name === 'xs'\">\n      <v-select\n        clearable\n        v-model=\"selected\"\n        :items=\"viewing\"\n        item-text=\"displayName\"\n        item-value=\"id\"\n        prepend-icon=\"person\"\n        @change=\"selected ? view(selected) : openSearch()\"\n      />\n      <slot />\n    </div>\n    <v-layout row v-else>\n      <v-flex shrink @mouseover=\"mouseOver\" @mouseleave=\"mouseOut\">\n        <v-navigation-drawer v-model=\"drawer\" :mini-variant.sync=\"mini\" hide-overlay stateless>\n          <v-toolbar flat class=\"transparent\">\n            <v-list class=\"pa-0\">\n              <v-list-tile class=\"mouseover\" avatar @click.stop=\"openSearch\">\n                <v-list-tile-avatar>\n                  <v-icon>search</v-icon>\n                </v-list-tile-avatar>\n\n                <v-list-tile-content>\n                  <!-- TODO: put a search inline here-->\n                  <v-list-tile-title>Search</v-list-tile-title>\n                </v-list-tile-content>\n\n                <v-list-tile-action>\n                  <v-btn icon @click.stop=\"openSearch\">\n                    <v-icon>chevron_right</v-icon>\n                  </v-btn>\n                </v-list-tile-action>\n              </v-list-tile>\n\n              <v-list-tile class=\"mouseover\" avatar v-for=\"member in viewing.slice().reverse()\" :key=\"member.id\">\n                <v-list-tile-avatar @click.stop=\"view(member)\">\n                  <img :src=\"member.profileUrl\" v-if=\"member.profileUrl\" />\n                  <v-icon v-else class=\"no-profile\">person</v-icon>\n                </v-list-tile-avatar>\n\n                <v-list-tile-content class=\"collapse-overflow\" @click.stop=\"view(member)\">\n                  <v-list-tile-title>{{member.displayName}}</v-list-tile-title>\n                  <v-list-tile-sub-title>{{member.id}}</v-list-tile-sub-title>\n                </v-list-tile-content>\n\n                <v-list-tile-action>\n                  <v-btn icon @click.stop=\"close(member)\">\n                    <v-icon>close</v-icon>\n                  </v-btn>\n                </v-list-tile-action>\n              </v-list-tile>\n            </v-list>\n          </v-toolbar>\n        </v-navigation-drawer>\n      </v-flex>\n      <v-flex grow>\n        <div class=\"tray\">\n          <slot />\n        </div>\n      </v-flex>\n    </v-layout>\n  </v-layout>\n</template>\n\n<script>\nimport { get, debounce } from 'lodash'\nimport { mapActions, mapState } from 'vuex'\nimport { UsersActions } from '@/users/UsersStore'\nimport { TenantsActions } from '@/tenants/TenantsStore'\n\nexport default {\n  props: {\n    memberId: Number\n  },\n  data () {\n    return {\n      drawer: true,\n      mini: true,\n      right: null,\n      selected: null,\n      target: undefined,\n      ...mapState({\n        tags: state => state.tenants.tags\n      })\n    }\n  },\n  watch: {\n    async memberId (id) {\n      this.selected = id\n      if (id) {\n        this.target = await this.getUser({ id })\n      } else {\n        this.target = undefined\n      }\n    }\n  },\n  created () {\n    this.toggleDebounce = debounce((value) => {\n      this.mini = !value\n    }, 150)\n  },\n  methods: {\n    ...mapActions([TenantsActions.FETCH_MEMBER_TAGS]),\n    ...mapActions({\n      removeUser: UsersActions.STOP_VIEWING,\n      getUser: UsersActions.GET_USER\n    }),\n    close (member) {\n      this.removeUser(member.id)\n      const route = get(this, '$route.params.id', -1)\n      if (member && route === member.id) {\n        this.$router.push('/members/')\n      }\n    },\n    view (member) {\n      const id = typeof member === 'object' ? member.id : member\n      this.$router.push('/members/' + id)\n    },\n    openSearch () {\n      this.$router.push('/members/')\n    },\n    mouseOver () {\n      this.toggleDebounce(true)\n    },\n    mouseOut () {\n      this.toggleDebounce(false)\n    }\n  },\n  computed: {\n    ...mapState({\n      viewing: state => state.users.viewing\n    })\n  }\n}\n</script>\n\n<style scoped>\n.no-profile {\n  border: 1px solid #efefef;\n}\n.mouseover {\n  cursor: pointer;\n}\n.collapse-overflow {\n  text-overflow: ellipsis;\n  max-width: 160px;\n}\n.tray {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views/users"}]}