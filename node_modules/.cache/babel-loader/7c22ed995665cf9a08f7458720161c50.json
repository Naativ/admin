{"remainingRequest":"/Users/narfdre/Code/hexly/admin/node_modules/babel-loader/lib/index.js!/Users/narfdre/Code/hexly/admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/narfdre/Code/hexly/admin/src/vue-apollo.js","dependencies":[{"path":"/Users/narfdre/Code/hexly/admin/src/vue-apollo.js","mtime":1546923832000},{"path":"/Users/narfdre/Code/hexly/admin/.babelrc","mtime":1546923832000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport Vue from 'vue';\nimport VueApollo from 'vue-apollo';\nimport createApolloClient from \"./apollo\";\nvar JWT_EXPIRED = 'jwt expired';\nvar NETWORK_ERROR = 'Network error'; // Install the vue plugin\n\nVue.use(VueApollo); // Config\n\nvar options = {\n  ssr: false,\n  base: process.env.VUE_APP_PLATFORM_GRAPHQL_ENDPOINT || process.env.VUE_APP_GRAPHQL_ENDPOINT || 'http://localhost:3000',\n  endpoints: {\n    graphql: process.env.VUE_APP_GRAPHQL_PATH || '/graphql',\n    subscription: process.env.VUE_APP_GRAPHQL_SUBSCRIPTIONS_PATH || '/graphql'\n  },\n  persisting: false,\n  subscriptions: true // Create apollo client\n\n};\nexport var apolloClient = createApolloClient(options); // Create vue apollo provider\n\nexport var apolloProvider = new VueApollo({\n  defaultClient: apolloClient,\n  errorHandler: function errorHandler(err) {\n    if (err.message.toString().indexOf(JWT_EXPIRED) > -1 || err.message.toString().indexOf(NETWORK_ERROR) > -1) {\n      localStorage.clear();\n      window.location = '/';\n    }\n  }\n});",{"version":3,"sources":["/Users/narfdre/Code/hexly/admin/src/vue-apollo.js"],"names":["Vue","VueApollo","createApolloClient","JWT_EXPIRED","NETWORK_ERROR","use","options","ssr","base","process","env","VUE_APP_PLATFORM_GRAPHQL_ENDPOINT","VUE_APP_GRAPHQL_ENDPOINT","endpoints","graphql","VUE_APP_GRAPHQL_PATH","subscription","VUE_APP_GRAPHQL_SUBSCRIPTIONS_PATH","persisting","subscriptions","apolloClient","apolloProvider","defaultClient","errorHandler","err","message","toString","indexOf","localStorage","clear","window","location"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,kBAAP;AACA,IAAMC,cAAc,aAApB;AACA,IAAMC,gBAAgB,eAAtB,C,CAEA;;AACAJ,IAAIK,GAAJ,CAAQJ,SAAR,E,CAEA;;AACA,IAAMK,UAAU;AACdC,OAAK,KADS;AAEdC,QACEC,QAAQC,GAAR,CAAYC,iCAAZ,IACAF,QAAQC,GAAR,CAAYE,wBADZ,IAEA,uBALY;AAMdC,aAAW;AACTC,aAASL,QAAQC,GAAR,CAAYK,oBAAZ,IAAoC,UADpC;AAETC,kBAAcP,QAAQC,GAAR,CAAYO,kCAAZ,IAAkD;AAFvD,GANG;AAUdC,cAAY,KAVE;AAWdC,iBAAe,IAXD,CAchB;;AAdgB,CAAhB;AAeA,OAAO,IAAMC,eAAelB,mBAAmBI,OAAnB,CAArB,C,CAEP;;AACA,OAAO,IAAMe,iBAAiB,IAAIpB,SAAJ,CAAc;AAC1CqB,iBAAeF,YAD2B;AAE1CG,cAF0C,wBAE7BC,GAF6B,EAExB;AAChB,QACEA,IAAIC,OAAJ,CAAYC,QAAZ,GAAuBC,OAAvB,CAA+BxB,WAA/B,IAA8C,CAAC,CAA/C,IACAqB,IAAIC,OAAJ,CAAYC,QAAZ,GAAuBC,OAAvB,CAA+BvB,aAA/B,IAAgD,CAAC,CAFnD,EAGE;AACAwB,mBAAaC,KAAb;AACAC,aAAOC,QAAP,GAAkB,GAAlB;AACD;AACF;AAVyC,CAAd,CAAvB","sourcesContent":["import Vue from 'vue'\nimport VueApollo from 'vue-apollo'\nimport createApolloClient from './apollo'\nconst JWT_EXPIRED = 'jwt expired'\nconst NETWORK_ERROR = 'Network error'\n\n// Install the vue plugin\nVue.use(VueApollo)\n\n// Config\nconst options = {\n  ssr: false,\n  base:\n    process.env.VUE_APP_PLATFORM_GRAPHQL_ENDPOINT ||\n    process.env.VUE_APP_GRAPHQL_ENDPOINT ||\n    'http://localhost:3000',\n  endpoints: {\n    graphql: process.env.VUE_APP_GRAPHQL_PATH || '/graphql',\n    subscription: process.env.VUE_APP_GRAPHQL_SUBSCRIPTIONS_PATH || '/graphql'\n  },\n  persisting: false,\n  subscriptions: true\n}\n\n// Create apollo client\nexport const apolloClient = createApolloClient(options)\n\n// Create vue apollo provider\nexport const apolloProvider = new VueApollo({\n  defaultClient: apolloClient,\n  errorHandler(err) {\n    if (\n      err.message.toString().indexOf(JWT_EXPIRED) > -1 ||\n      err.message.toString().indexOf(NETWORK_ERROR) > -1\n    ) {\n      localStorage.clear()\n      window.location = '/'\n    }\n  }\n})\n"]}]}