{"remainingRequest":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/narfdre/Code/hexly/admin/src/views/users/UserFrame.vue?vue&type=style&index=0&id=d178cf5e&scoped=true&lang=css&","dependencies":[{"path":"/Users/narfdre/Code/hexly/admin/src/views/users/UserFrame.vue","mtime":1570835920000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.user {\n  background-color: white;\n}\n.user > div:first-child {\n  width: 100%;\n}\n",{"version":3,"sources":["UserFrame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA","file":"UserFrame.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\n  <div>\n    <v-layout justify-center row class=\"user\">\n      <v-container v-if=\"!user\">\n        <v-alert v-if=\"!loading\" type=\"error\" :value=\"true\" xs12>Could not load the requested user</v-alert>\n      </v-container>\n      <div v-else>\n        <v-tabs centered icons-and-text>\n          <v-tabs-slider color=\"pink\"></v-tabs-slider>\n          <v-tab :to=\"'/members/' + id + '/'\">\n            Details\n            <v-icon>account_box</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasMembers\" :to=\"'/members/' + id + '/attributes'\">\n            Attributes\n            <v-icon>accessibility</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasAppointments\" :to=\"'/members/' + id + '/appointments'\">\n            Bookings\n            <v-icon>calendar_today</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasSurveys\" :to=\"'/members/' + id + '/surveys'\">\n            Surveys\n            <v-icon>notes</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasTeam\" :to=\"'/members/' + id + '/team'\">\n            Team\n            <v-icon>group</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasMembers\" :to=\"'/members/' + id + '/actions'\">\n            Actions\n            <v-icon>build</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasMembers\" :to=\"'/members/' + id + '/assets'\">\n            Assets\n            <v-icon>collections</v-icon>\n          </v-tab>\n          <v-tab v-if=\"access.hasPermissions\" :to=\"'/members/' + id + '/permissions'\">\n            Permissions\n            <v-icon>lock</v-icon>\n          </v-tab>\n          <v-tab :to=\"'/members/' + id + '/jungle'\">\n            Graph\n            <v-icon>device_hub</v-icon>\n          </v-tab>\n        </v-tabs>\n      </div>\n    </v-layout>\n    <v-divider />\n    <router-view :user=\"user\" v-if=\"user\"></router-view>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport { StoreGetters } from '@/store'\nimport { UsersActions } from '@/users/UsersStore'\n\nimport UsersFrame from '@/views/users/UsersFrame.vue'\n\nexport default {\n  components: {\n    UsersFrame\n  },\n  data () {\n    return {\n      loading: false,\n      unknown: false,\n      user: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      access: StoreGetters.access,\n      permissions: StoreGetters.permissions\n    }),\n    id () {\n      return this.$route.params.id\n    }\n  },\n  methods: {\n    ...mapActions({\n      view: UsersActions.START_VIEWING,\n      getUser: UsersActions.GET_USER\n    }),\n    canPayout () {\n      return this.permissions.find(p => p.id === 14)\n    },\n    async refresh () {\n      this.loading = true\n      const result = await this.getUser({\n        id: ~~this.$route.params.id\n      })\n      this.unknown = result === undefined\n      this.user = result\n      if (result) {\n        this.view(result)\n      }\n      this.loading = false\n    }\n  },\n  async beforeRouteUpdate (to, from, next) {\n    if (to.params.id) {\n      this.refresh()\n    }\n    next()\n  },\n  mounted () {\n    this.refresh()\n  }\n}\n</script>\n\n<style scoped>\n.user {\n  background-color: white;\n}\n.user > div:first-child {\n  width: 100%;\n}\n</style>\n"]}]}