{"remainingRequest":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/narfdre/Code/hexly/admin/src/components/MemberSearch.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/narfdre/Code/hexly/admin/src/components/MemberSearch.vue","mtime":1577329618149},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narfdre/Code/hexly/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.drag-image {\n  background-color: lightgray;\n  vertical-align: middle;\n}\n.draggable:hover {\n  cursor: grab !important;\n}\n.draggable:active {\n  cursor: grabbing !important;\n}\n",{"version":3,"sources":["MemberSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberSearch.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-flex>\n    <h1 v-if=\"title\">{{title}}</h1>\n    <div>\n      <v-flex xs6 md4 lg3>\n        <v-card flat class=\"pb-3\">\n          <form @submit.prevent=\"search\" autocomplete=\"off\">\n            <v-text-field\n              v-model=\"searchTerm\"\n              append-icon=\"search\"\n              type=\"text\"\n              name=\"searchTerm\"\n              label=\"Enter name\"\n            ></v-text-field>\n          </form>\n          <v-card-actions class=\"justify-content-start\">\n            <v-btn color=\"secondary\" @click=\"search\">Submit</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-flex>\n    </div>\n    <div>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"items\"\n        class=\"elevation-1\"\n        :loading=\"loading || searchLoading\"\n        :rows-per-page-items=\"[5]\"\n      >\n        <template slot=\"items\" slot-scope=\"props\">\n          <tr>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n                :effect-allowed=\"['copy']\"\n                :drop-effect=\"'copy'\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                <a v-if=\"!draggable\" @click=\"memberSelected(props.item)\">{{ props.item.name }}</a>\n                <v-icon>drag_handle</v-icon>\n              </drag>\n            </td>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                {{ props.item.id }}\n              </drag>\n            </td>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                {{ props.item.displayName }}\n              </drag>\n            </td>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                {{ props.item.contactEmail }}\n              </drag>\n            </td>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                {{ props.item.slug }}\n              </drag>\n            </td>\n            <td>\n              <drag\n                class=\"draggable\"\n                @dragstart=\"emitDragging\"\n                @dragend=\"emitDraggingStop\"\n                v-if=\"draggable\"\n                :transfer-data=\"{ member: props.item }\"\n              >\n                <div slot=\"image\" class=\"drag-image\">\n                  <DragImage :props=\"props\" />\n                </div>\n                {{ props.item.joinedOn | formatDate}}\n              </drag>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { Drag } from 'vue-drag-drop'\n\nimport DragImage from '@/components/DragImage'\nimport SEARCH_QUERY from '@/graphql/Search.gql'\nimport * as R from 'ramda'\n\nexport default {\n  props: {\n    loading: Boolean,\n    draggable: Boolean,\n    title: String\n  },\n  components: {\n    Drag,\n    DragImage\n  },\n  data () {\n    return {\n      searchTerm: '',\n      headers: [\n        {\n          text: '',\n          value: 'drag',\n          align: 'left',\n          sortable: false,\n          width: '1%'\n        },\n        { text: 'ID', value: 'id' },\n        { text: 'Name', value: 'name' },\n        { text: 'Email', value: 'contactEmail' },\n        { text: 'Slug', value: 'slug' },\n        { text: 'Joined On', value: 'joinedOn' }\n      ],\n      items: [],\n      searchLoading: false\n    }\n  },\n  methods: {\n    emitDragging (e) {\n      this.$emit('emitDragging', e)\n    },\n    emitDraggingStop (e) {\n      this.$emit('emitDraggingStop', e)\n    },\n    async search () {\n      this.searchLoading = true\n      const res = await this.$apollo.query({\n        query: SEARCH_QUERY,\n        variables: {\n          searchInput: {\n            search: this.searchTerm\n          }\n        }\n      })\n\n      this.items = R.pathOr([], ['data', 'searchHierarchy', 'hierarchies'], res)\n      this.searchLoading = false\n    },\n    memberSelected (member) {\n      this.$emit('memberSelected', member)\n    }\n  }\n}\n</script>\n<style>\n.drag-image {\n  background-color: lightgray;\n  vertical-align: middle;\n}\n.draggable:hover {\n  cursor: grab !important;\n}\n.draggable:active {\n  cursor: grabbing !important;\n}\n</style>\n"]}]}